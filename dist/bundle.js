(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function a(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}e.d({},{l:()=>f});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Untitled",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.desc=n,this.date=o,this.done=a}return t=e,a=[{key:"formatDate",value:function(e){return e.toLocaleDateString()}},{key:"addCard",value:function(t){var n=new e(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date);t.push(n),f()}},{key:"removeCard",value:function(e,t){t>=0&&t<e.length&&(e.splice(t,1),f())}},{key:"changeDone",value:function(e,t,o){if(t>=0&&t<e.length){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,i,s=[],l=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.splice(t,1),1)[0];a.done=!a.done,o.push(a),f()}}},{key:"updateToDoData",value:function(e,t,n,o,a){if(t>=0&&t<e.length){var r=e[t];r.title=n,r.desc=o,r.date=new Date(a),f()}}},{key:"saveToLocalStorage",value:function(){}},{key:"loadFromLocalStorage",value:function(){}},{key:"determineBackgroundColor",value:function(e){var t=new Date;t.setHours(0,0,0,0);var n=t.getTime()-e.getTime(),o=Math.floor(n/864e5);return console.log(o),o<=-8?"lime":o<=-4&&o>=-7?"yellow":o<0&&o>=-3?"orange":o>=0?"#FF4545":void 0}},{key:"printCards",value:function(t,n,o,a){o&&a?(o.innerHTML="",a.innerHTML="",t.forEach((function(n,a){var r=document.createElement("div");r.classList.add("projectBox"),r.style.backgroundColor=e.determineBackgroundColor(n.date),r.innerHTML='\n                <div class="title" contenteditable="true" data-index="'.concat(a,'" data-list="active">\n                    ').concat(n.title,'\n                </div>\n                <div class="notes" contenteditable="true" data-index="').concat(a,'" data-list="active">\n                    ').concat(n.desc.replace(/\n/g,"<br>"),'\n                </div>\n                <input type="date" class="due-date" value="').concat(n.date.toISOString().split("T")[0],'" data-index="').concat(a,'" data-list="active">\n                <button class="delete" data-index="').concat(a,'" data-list="active">\n                    <span class="material-symbols-outlined small">delete</span>\n                </button>\n                <button class="tick" data-index="').concat(a,'" data-list="active">\n                    <span class="material-symbols-outlined small">check</span>\n                </button>\n            '),o.appendChild(r);var i=r.querySelector(".title"),s=r.querySelector(".notes"),l=r.querySelector(".due-date");i.addEventListener("blur",(function(e){t[a].title=e.target.textContent.trim(),f()})),s.addEventListener("blur",(function(e){t[a].desc=e.target.innerHTML.replace(/<br>/g,"\n").trim(),f()})),l.addEventListener("change",(function(n){var o=new Date(n.target.value);t[a].date=o;var i=e.determineBackgroundColor(o);r.style.backgroundColor=i,f()}))})),n.forEach((function(t,o){var r=document.createElement("div");r.classList.add("projectBox","done"),r.innerHTML='\n                <div class="title" contenteditable="true" data-index="'.concat(o,'" data-list="done">\n                    ').concat(t.title,'\n                </div>\n                <div class="notes" contenteditable="true" data-index="').concat(o,'" data-list="done">\n                    ').concat(t.desc.replace(/\n/g,"<br>"),'\n                </div>\n                <div class="due-date" data-index="').concat(o,'" data-list="done">\n                    ').concat(e.formatDate(t.date),'\n                </div>\n                <button class="delete" data-index="').concat(o,'" data-list="done">\n                    <span class="material-symbols-outlined small">delete</span>\n                </button>\n                <button class="tick" data-index="').concat(o,'" data-list="done">\n                    <span class="material-symbols-outlined small">check</span>\n                </button>\n            '),a.appendChild(r);var i=r.querySelector(".title"),s=r.querySelector(".notes");i.addEventListener("blur",(function(e){n[o].title=e.target.textContent.trim(),f()})),s.addEventListener("blur",(function(e){n[o].desc=e.target.innerHTML.replace(/<br>/g,"\n").trim(),f()}))}))):console.error("One or both containers are missing.")}}],null&&o(t.prototype,null),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l(o.key),o)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=t,this.title="New To Do",this.desc="Description of ToDo",this.myToDos=[],this.doneToDos=[],this.projectsArray=n},(t=[{key:"CreateToDo",value:function(){var e=document.getElementById("list"),t=document.createElement("li");t.classList.add("projects"),t.setAttribute("data-index",this.index),t.innerHTML='\n            <button><i class="fas fa-home"></i>'.concat(this.title,"</button>\n        "),e.appendChild(t)}},{key:"PrintToDo",value:function(){document.getElementById("content").innerHTML='\n            <header contenteditable="true" data-index="'.concat(this.index,'">').concat(this.title,'</header>\n            <div id="para" contenteditable="true">').concat(this.desc,'</div>\n            <h1> > Active To Dos </h1>\n            <div class="container" id="c1"></div>\n            <h1> > Finished To Dos </h1>\n            <div class="container" id="c2"></div>\n            <button id="pen">\n                <span class="material-symbols-outlined">stylus</span>\n            </button>\n            <button id="delete">\n                <span class="material-symbols-outlined">delete</span>\n            </button>\n        '),this.updateAndRender(),this.addEditEventListeners()}},{key:"addEditEventListeners",value:function(){var e=this,t=document.querySelector("header[data-index]"),n=document.getElementById("para");t&&t.addEventListener("blur",(function(){e.title=t.innerText.trim(),e.saveChanges(),e.updateSidebar()})),n&&n.addEventListener("blur",(function(){e.desc=n.innerText.trim(),e.saveChanges()}))}},{key:"saveChanges",value:function(){f()}},{key:"updateSidebar",value:function(){var e=document.getElementById("list").querySelector('li[data-index="'.concat(this.index,'"]'));e&&(e.querySelector("button").innerHTML='<i class="fas fa-home"></i>'.concat(this.title))}},{key:"DeleteProject",value:function(){this.index>=0&&this.index<this.projectsArray.length&&this.projectsArray.splice(this.index,1)}},{key:"addNewCard",value:function(){r.addCard(this.myToDos),this.updateAndRender()}},{key:"updateAndRender",value:function(){var e=document.getElementById("c1"),t=document.getElementById("c2");e&&r.printCards(this.myToDos,this.doneToDos,e,t)}}])&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),c=[],u=null;function m(){h();var e=document.getElementById("list");e?(e.innerHTML="",c.forEach((function(e){e.CreateToDo()}))):console.error("Element with ID 'list' not found.")}function f(){var e=c.map((function(e){return{title:e.title,desc:e.desc,myToDos:e.myToDos.map((function(e){return{title:e.title,desc:e.desc,date:e.date.toISOString(),done:e.done}})),doneToDos:e.doneToDos.map((function(e){return{title:e.title,desc:e.desc,date:e.date.toISOString(),done:e.done}}))}}));localStorage.setItem("projectsArray",JSON.stringify(e))}function h(){document.getElementById("content").innerHTML='\n        <header>\n            Welcome to MyNotesToDo!\n        </header>\n        <div class="para">\n        Hi, this is my multi functional and easy to use notes/to do app. It can be used to keep track of tasks you need to do, but \n        its functionality means you can also use it for notes! Do you have multiple projects with tasks or need to split up your notes?\n        Don\'t worry because we have allowed you to make multiple cards and projects, all stored on your local device storage.\n        </div>\n        <header> How This Works </header>\n        <div class = "para">\n        So how does the app work? Well to create a new project refer to the vertical navbar on the left and press the create a new project\n        button, which generates a new project environment for you. You can insert a title or description for the project in case you come back\n        to it later on and forget what it was for. To get started you can generate new card using the pen button at the bottom right of the project screen. \n        The cards have their own respective titles and descriptions which can be altered at any stage, \n        and the tick button changes it from an active task to finished and vice versa, but fret not because you can edit the contents of a finished card\n        to make any last minute changes. To delete a card press the bin button on the card, and the bin button next to the pen will delete the project, so please be careful. \n        </div>\n        <header> What are the colours on the cards for? </header>\n        <div class = "para"> \n        Well that is a good question, since this was originally a simple to do list program the date at the bottom of each card is designed \n        as a due date, but for notes can be changed for colour scheming if you wish. It works as follows: <br> <br>\n        Green - You still have plenty of time to do your task (8+ days left to get it done) <br>\n        Yellow - The task is apporaching but you still have time (7 days) <br>\n        Orange - The tasks due date is almost there (You have 2 days from today) <br>\n        Red - The task should\'ve been done (The date was set before today) <br>\n        Blue - This means the task has been put in the finished section, indicating the task has been completed. \n        </div>\n        <header> What to do if you encounter a bug </header> \n        <div class="para">\n        Since I am the sole creator of this website there may be problems in functionality, <br> whether its specific to a browser or otherwise, feel free to get in touch with the form below:\n        <div id="form">\n            <form action="mailto:moravat763@gmail.com" method="post" enctype="text/plain" id="ff">\n                <fieldset class="form one">\n                    <legend>Positive Feedback</legend>\n                    <label for="name1">Name: </label>\n                    <input type="text" id="name1" placeholder="Your name" required minlength="3"> <br> <br>\n\n                    <label for="email1">Email address: </label>\n                    <input type="email" id="email1" name="email" placeholder="youremail@email.com"><br> <br                    \n                    \n                    <label for="extraP1">Comments:</label>\n                    <textarea name="extraP" id="extraP1" cols="100" rows="7"></textarea> <br>\n                    <input type="submit" value="Submit" class="buttons">\n                    <input type="reset" value="Reset" class="buttons">\n                </fieldset>\n            \n            </form>\n        </div>\n        </div>\n    '}document.addEventListener("DOMContentLoaded",(function(){var e;(e=JSON.parse(localStorage.getItem("projectsArray")))&&(e.forEach((function(e,t){var n=new d(t,c);n.title=e.title,n.desc=e.desc,n.myToDos=e.myToDos.map((function(e){return new r(e.title,e.desc,new Date(e.date),e.done)})),n.doneToDos=e.doneToDos.map((function(e){return new r(e.title,e.desc,new Date(e.date),e.done)})),c.push(n)})),m()),h(),document.getElementById("create").addEventListener("click",(function(){var e=c.length,t=new d(e,c);t.CreateToDo(),c.push(t),f()})),document.getElementById("list").addEventListener("click",(function(e){var t=e.target.closest(".projects");if(t){var n=parseInt(t.getAttribute("data-index"),10),o=c[n];o&&(o.PrintToDo(),u=n)}})),document.getElementById("home").addEventListener("click",h),document.getElementById("content").addEventListener("click",(function(e){var t=e.target.closest("button");if(t){var n=parseInt(t.getAttribute("data-index"),10),o=t.getAttribute("data-list");t.classList.contains("delete")?"active"===o?r.removeCard(c[u].myToDos,n):"done"===o&&r.removeCard(c[u].doneToDos,n):t.classList.contains("tick")&&("active"===o?r.changeDone(c[u].myToDos,n,c[u].doneToDos):"done"===o&&r.changeDone(c[u].doneToDos,n,c[u].myToDos)),c[u]&&c[u].updateAndRender(),f()}})),document.getElementById("content").addEventListener("click",(function(e){e.target.closest("#delete")&&null!==u&&c[u]&&(c[u].DeleteProject(),m(),f())})),document.getElementById("content").addEventListener("click",(function(e){e.target.closest("#pen")&&null!==u&&c[u]&&(c[u].addNewCard(),f())}))}))})();