(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function a(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}e.d({},{l:()=>v});var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Untitled",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.desc=n,this.date=o,this.done=a}return t=e,a=[{key:"formatDate",value:function(e){return e.toLocaleDateString()}},{key:"addCard",value:function(t){var n=new e(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date);t.push(n),v()}},{key:"removeCard",value:function(e,t){t>=0&&t<e.length&&(e.splice(t,1),v())}},{key:"changeDone",value:function(e,t,o){if(t>=0&&t<e.length){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,c=[],d=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=i.call(n)).done)&&(c.push(o.value),c.length!==t);d=!0);}catch(e){l=!0,a=e}finally{try{if(!d&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.splice(t,1),1)[0];a.done=!a.done,o.push(a),v()}}},{key:"updateToDoData",value:function(e,t,n,o,a){if(t>=0&&t<e.length){var i=e[t];i.title=n,i.desc=o,i.date=new Date(a),v()}}},{key:"saveToLocalStorage",value:function(){}},{key:"loadFromLocalStorage",value:function(){}},{key:"determineBackgroundColor",value:function(e){var t=new Date;t.setHours(0,0,0,0);var n=e.getTime()-t.getTime(),o=Math.floor(n/864e5);return o<-8?"lime":o<=-3&&o>=-7?"yellow":o<=0&&o>=-2?"orange":o>0?"#FF4545":void 0}},{key:"printCards",value:function(t,n,o,a){o&&a?(o.innerHTML="",a.innerHTML="",t.forEach((function(n,a){var i=document.createElement("div");i.classList.add("projectBox"),i.style.backgroundColor=e.determineBackgroundColor(n.date),i.innerHTML='\n                <div class="title" contenteditable="true" data-index="'.concat(a,'" data-list="active">\n                    ').concat(n.title,'\n                </div>\n                <div class="notes" contenteditable="true" data-index="').concat(a,'" data-list="active">\n                    ').concat(n.desc.replace(/\n/g,"<br>"),'\n                </div>\n                <input type="date" class="due-date" value="').concat(n.date.toISOString().split("T")[0],'" data-index="').concat(a,'" data-list="active">\n                <button class="delete" data-index="').concat(a,'" data-list="active">\n                    <span class="material-symbols-outlined small">delete</span>\n                </button>\n                <button class="tick" data-index="').concat(a,'" data-list="active">\n                    <span class="material-symbols-outlined small">check</span>\n                </button>\n            '),o.appendChild(i);var r=i.querySelector(".title"),c=i.querySelector(".notes"),d=i.querySelector(".due-date");r.addEventListener("blur",(function(e){t[a].title=e.target.textContent.trim(),v()})),c.addEventListener("blur",(function(e){t[a].desc=e.target.innerHTML.replace(/<br>/g,"\n").trim(),v()})),d.addEventListener("change",(function(n){var o=new Date(n.target.value);t[a].date=o;var r=e.determineBackgroundColor(o);i.style.backgroundColor=r,v()}))})),n.forEach((function(t,o){var i=document.createElement("div");i.classList.add("projectBox","done"),i.innerHTML='\n                <div class="title" contenteditable="true" data-index="'.concat(o,'" data-list="done">\n                    ').concat(t.title,'\n                </div>\n                <div class="notes" contenteditable="true" data-index="').concat(o,'" data-list="done">\n                    ').concat(t.desc.replace(/\n/g,"<br>"),'\n                </div>\n                <div class="due-date" data-index="').concat(o,'" data-list="done">\n                    ').concat(e.formatDate(t.date),'\n                </div>\n                <button class="delete" data-index="').concat(o,'" data-list="done">\n                    <span class="material-symbols-outlined small">delete</span>\n                </button>\n                <button class="tick" data-index="').concat(o,'" data-list="done">\n                    <span class="material-symbols-outlined small">check</span>\n                </button>\n            '),a.appendChild(i);var r=i.querySelector(".title"),c=i.querySelector(".notes");r.addEventListener("blur",(function(e){n[o].title=e.target.textContent.trim(),v()})),c.addEventListener("blur",(function(e){n[o].desc=e.target.innerHTML.replace(/<br>/g,"\n").trim(),v()}))}))):console.error("One or both containers are missing.")}}],null&&o(t.prototype,null),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,d(o.key),o)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var l=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=t,this.title="New To Do",this.desc="Description of ToDo",this.myToDos=[],this.doneToDos=[],this.projectsArray=n},(t=[{key:"CreateToDo",value:function(){var e=document.getElementById("list"),t=document.createElement("li");t.classList.add("projects"),t.setAttribute("data-index",this.index),t.innerHTML='\n            <button><i class="fas fa-home"></i>'.concat(this.title,"</button>\n        "),e.appendChild(t)}},{key:"PrintToDo",value:function(){document.getElementById("content").innerHTML='\n            <header contenteditable="true" data-index="'.concat(this.index,'">').concat(this.title,'</header>\n            <div id="para" contenteditable="true">').concat(this.desc,'</div>\n            <h1> > Active To Dos </h1>\n            <div class="container" id="c1"></div>\n            <h1> > Finished To Dos </h1>\n            <div class="container" id="c2"></div>\n            <button id="pen">\n                <span class="material-symbols-outlined">stylus</span>\n            </button>\n            <button id="delete">\n                <span class="material-symbols-outlined">delete</span>\n            </button>\n        '),this.updateAndRender(),this.addEditEventListeners()}},{key:"addEditEventListeners",value:function(){var e=this,t=document.querySelector("header[data-index]"),n=document.getElementById("para");t&&t.addEventListener("blur",(function(){e.title=t.innerText.trim(),e.saveChanges(),e.updateSidebar()})),n&&n.addEventListener("blur",(function(){e.desc=n.innerText.trim(),e.saveChanges()}))}},{key:"saveChanges",value:function(){v()}},{key:"updateSidebar",value:function(){var e=document.getElementById("list").querySelector('li[data-index="'.concat(this.index,'"]'));e&&(e.querySelector("button").innerHTML='<i class="fas fa-home"></i>'.concat(this.title))}},{key:"DeleteProject",value:function(){this.index>=0&&this.index<this.projectsArray.length&&this.projectsArray.splice(this.index,1)}},{key:"addNewCard",value:function(){i.addCard(this.myToDos),this.updateAndRender()}},{key:"updateAndRender",value:function(){var e=document.getElementById("c1"),t=document.getElementById("c2");e&&i.printCards(this.myToDos,this.doneToDos,e,t)}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),s=[],u=null;function f(){m();var e=document.getElementById("list");e?(e.innerHTML="",s.forEach((function(e){e.CreateToDo()}))):console.error("Element with ID 'list' not found.")}function v(){var e=s.map((function(e){return{title:e.title,desc:e.desc,myToDos:e.myToDos.map((function(e){return{title:e.title,desc:e.desc,date:e.date.toISOString(),done:e.done}})),doneToDos:e.doneToDos.map((function(e){return{title:e.title,desc:e.desc,date:e.date.toISOString(),done:e.done}}))}}));localStorage.setItem("projectsArray",JSON.stringify(e))}function m(){document.getElementById("content").innerHTML='\n        <header>\n            To Do List App\n        </header>\n        <div id="para">\n            Hi, this is my to do list app, made using HTML, CSS, JS on VS Code and webpack. It is designed for you to set activities, or\n            even make notes. You can press the pen icon to create a new card, delete an existing one using the trash can icon, or press\n            the tick to indicate when an activity is finished. Once a task is finished it goes to the finished section and it can be edited\n            in case. Note: The title is designed to be on one line only so if you start a new \n            line, refresh the page so it functions normally. \n        </div>\n    '}document.addEventListener("DOMContentLoaded",(function(){var e;(e=JSON.parse(localStorage.getItem("projectsArray")))&&(e.forEach((function(e,t){var n=new l(t,s);n.title=e.title,n.desc=e.desc,n.myToDos=e.myToDos.map((function(e){return new i(e.title,e.desc,new Date(e.date),e.done)})),n.doneToDos=e.doneToDos.map((function(e){return new i(e.title,e.desc,new Date(e.date),e.done)})),s.push(n)})),f()),m(),document.getElementById("create").addEventListener("click",(function(){var e=s.length,t=new l(e,s);t.CreateToDo(),s.push(t),v()})),document.getElementById("list").addEventListener("click",(function(e){var t=e.target.closest(".projects");if(t){var n=parseInt(t.getAttribute("data-index"),10),o=s[n];o&&(o.PrintToDo(),u=n)}})),document.getElementById("home").addEventListener("click",m),document.getElementById("content").addEventListener("click",(function(e){var t=e.target.closest("button");if(t){var n=parseInt(t.getAttribute("data-index"),10),o=t.getAttribute("data-list");t.classList.contains("delete")?"active"===o?i.removeCard(s[u].myToDos,n):"done"===o&&i.removeCard(s[u].doneToDos,n):t.classList.contains("tick")&&("active"===o?i.changeDone(s[u].myToDos,n,s[u].doneToDos):"done"===o&&i.changeDone(s[u].doneToDos,n,s[u].myToDos)),s[u]&&s[u].updateAndRender(),v()}})),document.getElementById("content").addEventListener("click",(function(e){e.target.closest("#delete")&&null!==u&&s[u]&&(s[u].DeleteProject(),f(),v())})),document.getElementById("content").addEventListener("click",(function(e){e.target.closest("#pen")&&null!==u&&s[u]&&(s[u].addNewCard(),v())}))}))})();